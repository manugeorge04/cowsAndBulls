(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{233:function(e,t,r){"use strict";r.r(t);var n=r(149),a=r.n(n),o=r(42),c=r.n(o),s=r(10),l=r.n(s),u=r(0),i=r.n(u),d=r(120),m=r(238),f=r(236),b=Object(d.a)((function(e){return{root:{"& .MuiAlert-message":{fontSize:"1.2rem"}}}})),g=function(e){var t=e.severity,r=e.message,n=e.open,a=e.handleOnClose,o=b();return i.a.createElement(m.a,{open:n,autoHideDuration:5e3,onClose:a},i.a.createElement(f.a,{className:o.root,severity:t,elevation:6,variant:"filled"},r))},p=r(153),O=r(173),v=r(216),h=Object(d.a)((function(e){var t;return{textbox:(t={margin:e.spacing(1),width:"5.7rem",height:"5rem"},c()(t,e.breakpoints.down("sm"),{width:"12rem",height:"4rem"}),c()(t,"textAlign","center"),c()(t,"& .MuiInputBase-input",c()({fontSize:"3rem",paddingLeft:"1.5rem"},e.breakpoints.down("sm"),{fontSize:"1.5rem"})),c()(t,"& .MuiOutlinedInput-input",c()({},e.breakpoints.down("sm"),{paddingLeft:"1rem",paddingRight:"0.7rem"})),c()(t,"& .MuiInputBase-root",c()({height:"5rem"},e.breakpoints.down("sm"),{height:"4rem"})),t)}})),w=Object(u.forwardRef)((function(e,t){var r=e.handleOnChange,n=e.variant,a=e.guessWord,o=e.handleOnKeyDown,c=e.id,s=e.disabled,l=Object(u.useRef)(null),d=Object(u.useRef)(null),m=Object(u.useRef)(null),f=Object(u.useRef)(null);Object(u.useImperativeHandle)(t,(function(){return{focusBox1:function(){return l.current.focus()},focusBox2:function(){return d.current.focus()},focusBox3:function(){return m.current.focus()},focusBox4:function(){return f.current.focus()},scrollToEnd:function(){return f.current.scrollIntoView({behavior:"smooth"})}}}));var b=h();return i.a.createElement(u.Fragment,null,i.a.createElement(v.a,{className:b.textbox,id:"".concat(c,"_letter1"),value:a.letter1,onChange:r,inputRef:l,variant:n,disabled:s}),i.a.createElement(v.a,{className:b.textbox,id:"".concat(c,"_letter2"),value:a.letter2,onChange:r,inputRef:d,variant:n,disabled:s}),i.a.createElement(v.a,{className:b.textbox,id:"".concat(c,"_letter3"),value:a.letter3,onChange:r,inputRef:m,variant:n,disabled:s}),i.a.createElement(v.a,{className:b.textbox,id:"".concat(c,"_letter4"),value:a.letter4,onChange:r,inputRef:f,variant:n,disabled:s,onKeyDown:o}))}));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=Object(d.a)((function(e){var t;return{cheer:{width:"90%"},Icon:(t={width:"20%"},c()(t,e.breakpoints.down("sm"),{width:"30%"}),c()(t,"height","auto"),t)}})),N=function(){var e=E();return i.a.createElement("div",{className:"gameHeader__cheer"},i.a.createElement(p.a,{className:e.cheer,variant:"h4",align:"center"},"Player,"),i.a.createElement(p.a,{className:e.cheer,variant:"h4",align:"center"},"Your Moove!"))},x=function(){var e=E();return i.a.createElement("div",{className:"gameHeader__cheer__mobile"},i.a.createElement(p.a,{className:e.cheer,variant:"h5",align:"center"}))},P=function(){var e=E(),t=Object(u.useState)({letter1:"",letter2:"",letter3:"",letter4:""}),r=l()(t,2),n=r[0],a=r[1],o=Object(u.useRef)(null),s=new RegExp(/[a-zA-Z]/),d=Object(O.a)("(min-width:45rem)",{noSsr:!0});return i.a.createElement(u.Fragment,null,i.a.createElement("div",{className:"gameHeader"},d?i.a.createElement(N,null):i.a.createElement(x,null),i.a.createElement("div",{className:"gameHeader__guess"},i.a.createElement(w,{id:"gameHeader",handleOnChange:function(e){var t=e.target.value.slice(-1).toUpperCase();t===n[e.target.id.slice(-7)]&&(t=e.target.value[0].toUpperCase()),(s.test(t)||""===t)&&a(y(y({},n),{},c()({},e.target.id.slice(-7),t))),""!==t&&("letter1"===e.target.id.slice(-7)?o.current.focusBox2():"letter2"===e.target.id.slice(-7)?o.current.focusBox3():o.current.focusBox4())},variant:"standard",ref:o,guessWord:n,disabled:!1,handleOnKeyDown:function(){}})),i.a.createElement("div",{className:"gameHeader__score"},i.a.createElement("embed",{className:e.Icon,src:"images/cow.svg"}),i.a.createElement("embed",{className:e.Icon,src:"images/bull.svg"}))))};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=Object(d.a)((function(e){return{slNo:{width:"90%"}}})),D=function(e){var t=e.slNo,r=e.handleOnKeyDown,n=e.disabled,a=e.word,o=e.bull,s=e.cow,d=Object(u.useState)(a),m=l()(d,2),f=m[0],b=m[1],g=Object(u.useRef)(null),O=new RegExp(/[a-zA-Z]/);Object(u.useEffect)((function(){g.current.focusBox1(),g.current.scrollToEnd()}),[]);var v=S();return i.a.createElement("div",{className:"gameBody"},i.a.createElement("div",{className:"slNo"},i.a.createElement(p.a,{className:v.slNo,variant:"h4",align:"center"},t)),i.a.createElement("div",{className:"userGuess"},i.a.createElement(w,{id:t,handleOnChange:function(e){var t=e.target.value.slice(-1).toUpperCase();t===f[e.target.id.slice(-7)]&&(t=e.target.value[0].toUpperCase()),(O.test(t)||""===t)&&b(C(C({},f),{},c()({},e.target.id.slice(-7),t))),O.test(t)&&("letter1"===e.target.id.slice(-7)?g.current.focusBox2():"letter2"===e.target.id.slice(-7)?g.current.focusBox3():g.current.focusBox4())},variant:"outlined",ref:g,guessWord:f,disabled:n,handleOnKeyDown:function(e){return r(f)(e)}})),i.a.createElement("div",{className:"cowScore"},i.a.createElement(p.a,{className:v.slNo,variant:"h4",align:"center"},s)),i.a.createElement("div",{className:"bullScore"},i.a.createElement(p.a,{className:v.slNo,variant:"h4",align:"center"},o)))},k=r(16);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=Object(u.useContext)(k.a),r=(t.subHeader,t.setSubHeader),n=t.socket,o=t.setCurrentGame,c=t.currentGame,s=Object(u.useState)({open:!1}),d=l()(s,2),m=d[0],f=d[1],b=Object(u.useState)([]),p=l()(b,2),O=p[0],v=p[1];Object(u.useEffect)((function(){n.emit("createWord",c.roomId),r("Playing ".concat(c.mode," (").concat(c.currentRound,"/").concat(c.rounds,")"))}),[c.currentRound]);var h=function(e,t,r){v([].concat(a()(O),[{slNo:O.length+1,word:{letter1:e.letter1,letter2:e.letter2,letter3:e.letter3,letter4:e.letter4},bull:r,cow:t}])),0===t&&r===Object.keys(e).length?c.rounds==c.currentRound?c.winCount+1>=Math.ceil(c.rounds/2)?w("end",!0):w("end",!1):(o(G(G({},c),{},{currentRound:c.currentRound+1,winCount:c.winCount+1,noOfGuesses:0,maxGuesses:c.maxGuesses-2})),w("round",!0)):c.noOfGuesses+1===c.maxGuesses?c.rounds==c.currentRound?c.winCount+1>=Math.ceil(c.rounds/2)?w("end",!0):w("end",!1):(o(G(G({},c),{},{currentRound:c.currentRound+1,noOfGuesses:0,maxGuesses:c.maxGuesses+2})),w("round",!1)):o(G(G({},c),{},{noOfGuesses:c.noOfGuesses+1}))},w=function(e,t){v([]),"round"===e?f({open:!0,message:t?"You won this round!":"You lost this round!",severity:"info"}):"end"===e&&f({open:!0,message:t?"You won!":"You lost!",severity:t?"success":"warning"})};return i.a.createElement("div",{className:"container"},i.a.createElement(P,null),O.map((function(e,t){return i.a.createElement(D,{key:t,slNo:e.slNo,word:e.word,bull:e.bull,cow:e.cow,disabled:!0})})),i.a.createElement(D,{key:O.length+1,slNo:O.length+1,handleOnKeyDown:function(t){return function(r){if("Enter"===r.key){var o=[t.letter1,t.letter2,t.letter3,t.letter4].join("");o.includes(" ")||o.length<4?f({open:!0,message:"Please enter a 4 letter word",severity:"error"}):function(e){var t=e.split(""),r=a()(new Set(t));return t.length!==r.length}(o)?f({open:!0,message:"Please enter a word with non-repeating characters",severity:"error"}):function(e,t,r,n,a){e=e.toLowerCase(),r.once("cowsAndBullsScore",(function(e){var t=e.cowScore,r=e.bullScore;n(a,t,r)})),r.emit("newGuess",e,t)}(o,e.match.params.roomId,n,h,t)}}},word:{letter1:"",letter2:"",letter3:"",letter4:""},bull:"",cow:"",disabled:!1}),i.a.createElement(g,{severity:m.severity,message:m.message,open:m.open,handleOnClose:function(){f(G(G({},m),{},{open:!1}))}}))}}}]);
//# sourceMappingURL=11.bundle.js.map